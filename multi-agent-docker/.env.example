# Multi-Agent Docker Environment Configuration

# External directory for mounted files
EXTERNAL_DIR=/target project dir

# Host user and group IDs for file permissions
HOST_UID=1000
HOST_GID=1000

# Resource limits (leave empty for auto-detection)
DOCKER_CPUS=
DOCKER_MEMORY=

# External application ports
BLENDER_PORT=9876
QGIS_PORT=9877

# API Keys
GOOGLE_API_KEY=
ZAI_API_KEY=

# MCP Configuration
MCP_LOG_LEVEL=debug
MCP_TCP_PORT=9500
MCP_BRIDGE_PORT=3002
MCP_WS_URL=ws://localhost:3002
MCP_TCP_HOST=localhost
MCP_TCP_DEBUG=true
MCP_CONNECTION_LOGGING=true
MCP_TOOL_CALL_LOGGING=true
MCP_RESPONSE_LOGGING=true

# Security Configuration
# Authentication
# TODO: Re-enable auth after configuring visionflow container to authenticate
WS_AUTH_ENABLED=false
WS_AUTH_TOKEN=your-secure-websocket-token-change-me
TCP_AUTH_TOKEN=your-secure-tcp-token-change-me
JWT_SECRET=your-super-secret-jwt-key-minimum-32-chars
API_KEY=your-api-key-for-external-services

# Connection Limits
WS_MAX_CONNECTIONS=100
TCP_MAX_CONNECTIONS=50
WS_CONNECTION_TIMEOUT=300000

# Rate Limiting
# TODO: Re-enable after fixing visionflow authentication
RATE_LIMIT_ENABLED=false
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_BURST_REQUESTS=20

# Request Size Limits
MAX_REQUEST_SIZE=10485760
MAX_MESSAGE_SIZE=1048576
MAX_BUFFER_SIZE=16777216

# CORS Security
CORS_ENABLED=true
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://localhost:3000
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# SSL/TLS Configuration (for production)
SSL_ENABLED=false
SSL_CERT_PATH=/app/certs/server.crt
SSL_KEY_PATH=/app/certs/server.key
SSL_CA_PATH=/app/certs/ca.crt

# Monitoring and Logging
SECURITY_AUDIT_LOG=true
PERFORMANCE_MONITORING=true
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=10000

# Docker Exec Operations Logging
DOCKER_EXEC_LOGGING=true
DOCKER_HIVE_MIND_DEBUG=true
DOCKER_COMMAND_TRACE=true
DOCKER_PROCESS_MONITORING=true

# Agent Hive Mind Launch Logging
HIVE_MIND_SPAWN_LOGGING=true
HIVE_MIND_SESSION_TRACKING=true
HIVE_MIND_STATUS_POLLING=true
HIVE_MIND_HEALTH_MONITORING=true
HIVE_MIND_LOG_LEVEL=debug

# Telemetry System Logging
TELEMETRY_ENABLED=true
TELEMETRY_LOG_LEVEL=debug
TELEMETRY_STREAM_LOGGING=true
TELEMETRY_METRICS_INTERVAL=5000
TELEMETRY_GPU_MONITORING=true

# Cross-Container Agent Control Logging
CROSS_CONTAINER_LOGGING=true
CONTAINER_BRIDGE_DEBUG=true
NETWORK_STATE_MONITORING=true
RECOVERY_OPERATION_LOGGING=true

# WebSocket Bridge Logging
WS_BRIDGE_LOG_LEVEL=debug
WS_CONNECTION_TRACKING=true
WS_MESSAGE_LOGGING=false
WS_MULTIPLEXER_DEBUG=true

# Performance Tracing
PERFORMANCE_TRACE_ENABLED=true
BOTTLENECK_DETECTION=true

# Log Storage and Rotation
LOG_DIR=/app/logs
LOG_ROTATION_SIZE=50
LOG_RETENTION_COUNT=10
LOG_COMPRESSION=true

# Component-Specific Logging
SERVER_LOG_LEVEL=debug
CLIENT_LOG_LEVEL=info
GPU_LOG_LEVEL=debug
ANALYTICS_LOG_LEVEL=debug
MEMORY_LOG_LEVEL=info
NETWORK_LOG_LEVEL=debug
ERROR_LOG_LEVEL=debug

# Circuit Breaker Settings
CIRCUITBREAKER_ENABLED=true
CIRCUITBREAKER_FAILURE_THRESHOLD=5
CIRCUITBREAKER_TIMEOUT=30000
CIRCUITBREAKER_RESET_TIMEOUT=60000

# Encryption Settings
ENCRYPTION_ENABLED=false
ENCRYPTION_ALGORITHM=aes-256-gcm
ENCRYPTION_KEY=your-encryption-key-change-me

# Session Management
SESSION_TIMEOUT=1800000
SESSION_CLEANUP_INTERVAL=300000
MAX_CONCURRENT_SESSIONS=10

# IP Blocking
# TODO: Re-enable after fixing visionflow authentication
AUTO_BLOCK_ENABLED=false
BLOCK_DURATION=3600000
MAX_FAILED_ATTEMPTS=3

# Database Security
DB_ENCRYPTION_ENABLED=false
DB_BACKUP_ENABLED=true
DB_BACKUP_INTERVAL=86400000

# Development vs Production
NODE_ENV=development
DEBUG_MODE=true
VERBOSE_LOGGING=true
RUST_LOG=debug
LOG_STRUCTURED_JSON=true
