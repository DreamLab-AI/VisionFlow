// VisionFlow Documentation - Custom SCSS
// Extends Just the Docs theme with VisionFlow branding

// Brand colours
$vf-primary: #4A90E2;
$vf-secondary: #7ED321;
$vf-accent: #F5A623;
$vf-highlight: #BD10E0;
$vf-info: #50E3C2;

// Override theme variables
$link-color: $vf-primary;
$sidebar-color: #f5f6fa;
$search-result-preview-color: #4a4a4a;

// Custom font imports
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

// Typography
body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
}

code, pre {
  font-family: 'JetBrains Mono', 'SF Mono', 'Fira Code', Consolas, monospace;
}

// Enhanced code blocks
.highlight {
  border-radius: 8px;
  margin: 1rem 0;

  pre {
    padding: 1rem;
    overflow-x: auto;
  }
}

// Copy button for code blocks
.code-header {
  display: flex;
  justify-content: flex-end;
  padding: 0.5rem;
  background: #f6f8fa;
  border-radius: 8px 8px 0 0;

  .copy-button {
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
    cursor: pointer;
    border: 1px solid #d1d5da;
    border-radius: 4px;
    background: white;

    &:hover {
      background: #f0f0f0;
    }
  }
}

// Table styling
table {
  width: 100%;
  margin: 1.5rem 0;
  border-collapse: collapse;

  th {
    background-color: #f6f8fa;
    font-weight: 600;
    text-align: left;
  }

  td, th {
    padding: 0.75rem 1rem;
    border: 1px solid #e1e4e8;
  }

  tr:nth-child(even) {
    background-color: #fafbfc;
  }

  tr:hover {
    background-color: #f0f4f8;
  }
}

// Callout boxes (using Just the Docs callouts)
.warning {
  border-left-color: $vf-accent;
  background-color: #fffbf0;
}

.note {
  border-left-color: $vf-primary;
  background-color: #f0f7ff;
}

.important {
  border-left-color: $vf-highlight;
  background-color: #fdf0ff;
}

.new {
  border-left-color: $vf-secondary;
  background-color: #f0fff4;
}

// Navigation enhancements
.nav-list-item {
  .nav-list-link {
    border-radius: 4px;
    transition: background-color 0.2s ease;

    &:hover {
      background-color: rgba($vf-primary, 0.1);
    }

    &.active {
      font-weight: 600;
      color: $vf-primary;
      background-color: rgba($vf-primary, 0.08);
    }
  }
}

// Search styling
.search-input {
  border-radius: 8px;
  border: 1px solid #d1d5da;

  &:focus {
    border-color: $vf-primary;
    box-shadow: 0 0 0 3px rgba($vf-primary, 0.2);
  }
}

.search-result {
  border-radius: 6px;

  &:hover {
    background-color: rgba($vf-primary, 0.05);
  }
}

// Mermaid diagram containers
.mermaid {
  text-align: center;
  margin: 1.5rem 0;
  padding: 1rem;
  background-color: #fafafa;
  border-radius: 8px;
  overflow-x: auto;

  svg {
    max-width: 100%;
    height: auto;
  }
}

// Dark mode Mermaid
[data-theme="dark"] .mermaid {
  background-color: #1a1a2e;
}

// Breadcrumbs
.breadcrumb-nav {
  padding: 0.5rem 0;
  margin-bottom: 1rem;
  font-size: 0.875rem;

  .breadcrumb-nav-list-item {
    &::after {
      content: '/';
      margin: 0 0.5rem;
      color: #6a737d;
    }

    &:last-child::after {
      content: '';
    }
  }
}

// Back to top button
.back-to-top {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  padding: 0.75rem 1rem;
  background: $vf-primary;
  color: white;
  border-radius: 8px;
  text-decoration: none;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  opacity: 0;
  transition: opacity 0.3s ease;

  &.visible {
    opacity: 1;
  }

  &:hover {
    background: darken($vf-primary, 10%);
  }
}

// Footer styling
.site-footer {
  border-top: 1px solid #e1e4e8;
  padding-top: 1.5rem;
  margin-top: 3rem;

  a {
    color: $vf-primary;

    &:hover {
      text-decoration: underline;
    }
  }
}

// Print styles
@media print {
  .site-nav,
  .site-header,
  .site-footer,
  .search,
  .back-to-top,
  .breadcrumb-nav {
    display: none !important;
  }

  .main-content {
    max-width: 100% !important;
    padding: 0 !important;
  }

  .mermaid {
    page-break-inside: avoid;
    background: white;
  }

  a[href]::after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
  }
}

// Responsive adjustments
@media (max-width: 768px) {
  .main-content {
    padding: 1rem;
  }

  table {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
  }

  .back-to-top {
    bottom: 1rem;
    right: 1rem;
    padding: 0.5rem 0.75rem;
  }
}

// Accessibility
:focus {
  outline: 2px solid $vf-primary;
  outline-offset: 2px;
}

.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: $vf-primary;
  color: white;
  padding: 8px;
  z-index: 100;

  &:focus {
    top: 0;
  }
}

// Utility classes
.text-center { text-align: center; }
.text-right { text-align: right; }
.mt-0 { margin-top: 0; }
.mb-0 { margin-bottom: 0; }
.p-2 { padding: 0.5rem; }
.rounded { border-radius: 8px; }
.shadow { box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); }
