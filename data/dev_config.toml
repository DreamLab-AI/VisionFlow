# Developer Configuration File
# Internal server-side settings not exposed to clients
# Modify these values to tune system behavior without recompiling

[physics]
# Force calculation parameters
force_epsilon = 1e-8
spring_length_multiplier = 5.0
spring_length_max = 10.0
spring_force_clamp_factor = 0.5

# New CUDA kernel parameters
rest_length = 50.0                      # Natural spring rest length
repulsion_cutoff = 50.0                 # Maximum distance for repulsion calculations  
repulsion_softening_epsilon = 0.0001   # Prevents division by zero in force calculations
center_gravity_k = 0.005               # Gravity toward center - helps nodes settle and prevents drift
grid_cell_size = 50.0                  # Spatial grid resolution for neighbor searches
warmup_iterations = 100                # Number of warmup simulation steps
cooling_rate = 0.001                   # Rate of cooling during warmup

# Boundary behavior  
boundary_extreme_multiplier = 2.0        # Nodes beyond viewport * this are extreme
boundary_extreme_force_multiplier = 10.0 # Force multiplier for extreme positions
boundary_velocity_damping = 0.5          # Velocity reduction on boundary collision

# Initial node distribution
golden_ratio = 1.618033988749895
initial_radius_min = 100.0
initial_radius_range = 300.0

# Multi-graph scaling
cross_graph_repulsion_scale = 0.3
cross_graph_spring_scale = 0.5

# Clustering behavior
cluster_repulsion_scale = 0.5
importance_scale_factor = 1.0

# Distance thresholds
repulsion_distance_squared_min = 2500.0  # Updated to 50^2 for consistency with repulsion_cutoff
stress_majorization_epsilon = 0.001

[cuda]
# Warmup phase parameters
warmup_iterations_default = 200
warmup_damping_start = 0.98
warmup_damping_end = 0.85
warmup_temperature_scale = 0.0001
warmup_cooling_iterations = 5

# GPU safety limits
max_kernel_time_ms = 5000
max_gpu_failures = 5
debug_output_throttle = 60
debug_node_count = 3

# Memory limits
max_nodes = 1000000
max_edges = 10000000

[network]
# Connection pooling
pool_max_idle_per_host = 32
pool_idle_timeout_secs = 90
pool_connect_timeout_secs = 10

# Circuit breaker
circuit_failure_threshold = 5
circuit_recovery_timeout_secs = 30
circuit_half_open_max_requests = 3

# Retry logic
max_retry_attempts = 3
retry_base_delay_ms = 100
retry_max_delay_ms = 30000
retry_exponential_base = 2.0

# WebSocket internals
ws_ping_interval_secs = 30
ws_pong_timeout_secs = 10
ws_frame_size = 65536
ws_max_pending_messages = 100

# Rate limiting
rate_limit_burst_size = 10
rate_limit_refill_rate = 1.0

[rendering.agent_colors]
coordinator = "#00FFFF"
coder = "#00FF00"
architect = "#FFA500"
analyst = "#9370DB"
tester = "#FF6347"
researcher = "#FFD700"
reviewer = "#4169E1"
optimizer = "#7FFFD4"
documenter = "#FF69B4"
default = "#CCCCCC"

[rendering]
# Size calculations
agent_base_size = 1.0
agent_size_per_task = 0.2
agent_max_size = 2.0
node_base_radius = 15.0

# Animation speeds
pulse_speed = 2.0
rotate_speed = 1.0
glow_speed = 0.5
wave_speed = 0.5

# Level of detail distances
lod_distance_high = 100.0
lod_distance_medium = 500.0
lod_distance_low = 1000.0

[performance]
# Batching
batch_size_nodes = 1000
batch_size_edges = 5000
batch_timeout_ms = 100

# Caching
cache_ttl_secs = 300
cache_max_entries = 10000
cache_eviction_percentage = 0.2

# Threading
worker_threads = 4
blocking_threads = 512
stack_size_mb = 2

# Memory management
gc_interval_secs = 60
memory_warning_threshold_mb = 1024
memory_critical_threshold_mb = 2048

[debug]
# Debug flags
enable_cuda_debug = false
enable_physics_debug = false
enable_network_debug = false
enable_memory_tracking = false
enable_performance_tracking = false

# Debug thresholds
log_slow_operations_ms = 100
log_memory_usage_interval_secs = 60
profile_sample_rate = 0.01