# VisionFlow 3D Graph Visualization Settings
# Single source of truth for all application configuration

# ============================================================================
# VISUALIZATION SETTINGS - Multi-graph support
# ============================================================================
visualisation:
  # Multi-graph support - primary source of truth
  graphs:
    logseq:
      nodes:
        base_color: '#66d9ef'
        metalness: 0.85
        opacity: 0.95
        roughness: 0.15
        node_size: 1.2
        quality: 'high'
        enable_instancing: true
        enable_hologram: true
        enable_metadata_shape: true
        enable_metadata_visualisation: true
      edges:
        arrow_size: 0.02
        base_width: 0.5
        color: '#56b6c2'
        enable_arrows: false
        opacity: 0.25
        width_range:
          - 0.2
          - 1.0
        quality: 'medium'
      labels:
        desktop_font_size: 0.5
        enable_labels: true
        text_color: '#f8f8f2'
        text_outline_color: '#181c28'
        text_outline_width: 0.005
        text_resolution: 32
        text_padding: 0.6
        billboard_mode: 'camera'
        show_metadata: true
        max_label_width: 5
      physics:
        # --- Stable Physics Settings for Natural Graph Layout ---
        enabled: true
        
        # Core Forces (Balanced for stability)
        spring_strength: 0.005         # Moderate: Natural spring tension for connected nodes
        repulsion_strength: 2.0        # Low: Gentle repulsion prevents overlap without explosion
        attraction_strength: 0.0001    # Very light: Subtle center gravity
        gravity: 0.0001                # Minimal: Slight downward pull for natural settling
        
        # Stability & Settling Controls
        damping: 0.95                  # High: Strong friction for quick settling
        max_velocity: 2.0              # Moderate: Allows natural movement
        temperature: 0.01              # Very low: Minimal random energy
        time_step: 0.016               # Standard: 60fps simulation step
        
        # Boundary & Collision (Spacious environment)
        enable_bounds: true            # Enabled: Soft boundaries
        bounds_size: 500.0             # Large: Plenty of space for 170+ nodes
        boundary_damping: 0.5          # Moderate: Soft bounce off boundaries
        collision_radius: 2.0          # Natural: Personal space for each node
        
        # Advanced Parameters
        iterations: 100                # Moderate: Good performance/quality balance
        repulsion_distance: 50.0       # Moderate: Natural force falloff
        mass_scale: 1.0                # Standard: Natural inertia
        update_threshold: 0.01         # Sensitive: Detect small movements

    visionflow:
      nodes:
        base_color: '#ff8800'
        metalness: 0.7
        opacity: 0.9
        roughness: 0.3
        node_size: 1.5
        quality: 'high'
        enable_instancing: true
        enable_hologram: true
        enable_metadata_shape: true
        enable_metadata_visualisation: true
      edges:
        arrow_size: 0.7
        base_width: 0.15
        color: '#ffaa00'
        enable_arrows: true
        opacity: 0.6
        width_range:
          - 0.15
          - 1.5
        quality: 'high'
      labels:
        desktop_font_size: 16.0
        enable_labels: true
        text_color: '#ffaa00'
        text_outline_color: '#000000'
        text_outline_width: 2.5
        text_resolution: 256
        text_padding: 5.0
        billboard_mode: 'screen'
        show_metadata: true
        max_label_width: 8
      physics:
        # --- Stable Physics Settings for Natural Graph Layout ---
        enabled: true
        
        # Core Forces (Balanced for stability)
        spring_strength: 0.005         # Moderate: Natural spring tension for connected nodes
        repulsion_strength: 2.0        # Low: Gentle repulsion prevents overlap without explosion
        attraction_strength: 0.0001    # Very light: Subtle center gravity
        gravity: 0.0001                # Minimal: Slight downward pull for natural settling
        
        # Stability & Settling Controls
        damping: 0.95                  # High: Strong friction for quick settling
        max_velocity: 2.0              # Moderate: Allows natural movement
        temperature: 0.01              # Very low: Minimal random energy
        time_step: 0.016               # Standard: 60fps simulation step
        
        # Boundary & Collision (Spacious environment)
        enable_bounds: true            # Enabled: Soft boundaries
        bounds_size: 500.0             # Large: Plenty of space for 170+ nodes
        boundary_damping: 0.5          # Moderate: Soft bounce off boundaries
        collision_radius: 2.0          # Natural: Personal space for each node
        
        # Advanced Parameters
        iterations: 100                # Moderate: Good performance/quality balance
        repulsion_distance: 50.0       # Moderate: Natural force falloff
        mass_scale: 1.0                # Standard: Natural inertia
        update_threshold: 0.01         # Sensitive: Detect small movements

  # Global rendering settings
  rendering:
    ambient_light_intensity: 1.2
    background_color: '#0a0e1a'
    directional_light_intensity: 1.5
    enable_ambient_occlusion: false
    enable_antialiasing: true
    enable_shadows: true
    environment_intensity: 0.7
    shadow_map_size: '2048'
    shadow_bias: 0.0001
    context: 'desktop'

  # Animation settings
  animations:
    enable_motion_blur: false
    enable_node_animations: true
    motion_blur_strength: 0.2
    selection_wave_enabled: true
    pulse_enabled: true
    pulse_speed: 1.2
    pulse_strength: 0.8
    wave_speed: 0.5

  # Bloom effect settings
  bloom:
    enabled: true
    strength: 2.0
    radius: 0.85
    threshold: 0.15
    node_bloom_strength: 3.0
    edge_bloom_strength: 3.5
    environment_bloom_strength: 3.0

  # Hologram effect settings
  hologram:
    ring_count: 5
    ring_color: '#00ffff'
    ring_opacity: 0.8
    sphere_sizes:
      - 40
      - 80
    ring_rotation_speed: 12.0
    global_rotation_speed: 0.5
    enable_buckminster: true
    buckminster_size: 50
    buckminster_opacity: 0.3
    enable_geodesic: true
    geodesic_size: 60
    geodesic_opacity: 0.25
    enable_triangle_sphere: true
    triangle_sphere_size: 70
    triangle_sphere_opacity: 0.4

  # Camera configuration
  camera:
    fov: 75
    near: 0.1
    far: 2000
    position:
      x: 0
      y: 10
      z: 50
    look_at:
      x: 0
      y: 0
      z: 0

  # SpacePilot 3D navigation
  space_pilot:
    enabled: true
    mode: 'camera'
    sensitivity:
      translation: 1.0
      rotation: 1.0
    smoothing: 0.8
    deadzone: 0.1
    button_functions:
      1: 'resetView'
      2: 'cycleMode'
      3: 'fitToView'
      4: 'topView'
      5: 'rightView'
      6: 'frontView'

# ============================================================================
# SYSTEM SETTINGS
# ============================================================================
system:
  # General system settings
  persist_settings: false
  custom_backend_url: ''

  # Network configuration (server-side)
  network:
    bind_address: 0.0.0.0
    domain: visionflow.info
    port: 3001
    enable_http2: false
    enable_tls: false
    min_tls_version: '1.2'
    tunnel_id: dummy
    enable_rate_limiting: false
    rate_limit_requests: 10000
    rate_limit_window: 600
    max_request_size: 10485760
    api_client_timeout: 30
    enable_metrics: false
    max_concurrent_requests: 1
    max_retries: 3
    metrics_port: 9090
    retry_delay: 5

  # WebSocket configuration
  websocket:
    update_rate: 60
    binary_chunk_size: 2048
    binary_update_rate: 30
    min_update_rate: 5
    max_update_rate: 60
    motion_threshold: 0.05
    motion_damping: 0.9
    binary_message_version: 1
    compression_enabled: false
    compression_threshold: 512
    heartbeat_interval: 10000
    heartbeat_timeout: 600000
    max_connections: 100
    max_message_size: 10485760
    reconnect_attempts: 5
    reconnect_delay: 1000

  # Security settings
  security:
    allowed_origins:
      - https://www.visionflow.info
      - https://visionflow.info
    audit_log_path: /app/logs/audit.log
    cookie_httponly: true
    cookie_samesite: Strict
    cookie_secure: true
    csrf_token_timeout: 3600
    enable_audit_logging: false
    enable_request_validation: false
    session_timeout: 3600

  # Simple debug flag for server-side debugging
  # Log verbosity is still controlled by RUST_LOG environment variable
  debug:
    enabled: false

# ============================================================================
# XR SETTINGS
# ============================================================================
xr:
  enabled: false
  client_side_enable_xr: false
  mode: immersive-vr
  display_mode: immersive-vr
  room_scale: 1.0
  space_type: local-floor
  quality: medium
  render_scale: 1.0
  interaction_distance: 1.5
  locomotion_method: teleport
  teleport_ray_color: '#ffffff'
  controller_ray_color: '#ffffff'
  controller_model: 'default'

  # Hand tracking settings
  enable_hand_tracking: true
  hand_mesh_enabled: true
  hand_mesh_color: '#4287f5'
  hand_mesh_opacity: 0.3
  hand_point_size: 0.006
  hand_ray_enabled: true
  hand_ray_color: '#4287f5'
  hand_ray_width: 0.003
  gesture_smoothing: 0.7

  # Interaction settings
  enable_haptics: true
  haptic_intensity: 0.3
  drag_threshold: 0.08
  pinch_threshold: 0.3
  rotation_threshold: 0.08
  interaction_radius: 0.15
  movement_speed: 1.0
  dead_zone: 0.12
  movement_axes:
    horizontal: 2
    vertical: 3

  # Environment understanding
  enable_light_estimation: false
  enable_plane_detection: false
  enable_scene_understanding: false
  plane_color: '#4287f5'
  plane_opacity: 0.001
  plane_detection_distance: 3.0
  show_plane_overlay: false
  snap_to_floor: false

  # Passthrough settings
  enable_passthrough_portal: false
  passthrough_opacity: 0.8
  passthrough_brightness: 1.1
  passthrough_contrast: 1.2
  portal_size: 2.5
  portal_edge_color: '#4287f5'
  portal_edge_width: 0.02

# ============================================================================
# AUTHENTICATION SETTINGS
# ============================================================================
auth:
  enabled: false
  provider: nostr
  required: false

# ============================================================================
# AI SERVICE INTEGRATIONS
# ============================================================================

# RAGFlow Integration
ragflow:
  agent_id: 'aa2e328812ef11f083dc0a0d6226f61b'
  timeout: 30
  max_retries: 3
  chat_id: ''

# Perplexity Integration
perplexity:
  api_key: ''
  model: llama-3.1-sonar-small-128k-online
  api_url: ''
  max_tokens: 4096
  temperature: 0.5
  top_p: 0.9
  presence_penalty: 0.0
  frequency_penalty: 0.0
  timeout: 30
  rate_limit: 100

# OpenAI Integration
openai:
  api_key: ''
  base_url: ''
  timeout: 30
  rate_limit: 100

# Kokoro TTS Integration
kokoro:
  api_url: 'http://recursing_bhaskara:8880'
  default_voice: 'af_heart'
  default_format: 'mp3'
  default_speed: 1.0
  timeout: 30
  stream: true
  return_timestamps: true
  sample_rate: 24000

# Whisper Speech Recognition
whisper:
  api_url: "http://whisper-webui-backend:8000"
  default_model: "base"
  default_language: "en"
  timeout: 30
  temperature: 0.0
  return_timestamps: false
  vad_filter: false
  word_timestamps: false
  initial_prompt: ""