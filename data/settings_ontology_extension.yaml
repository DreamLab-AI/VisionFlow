# Ontology Extension for settings.yaml
# Append this section to your existing settings.yaml file

ontology:
  # Enable/disable ontology features
  enabled: true

  # GPU acceleration for constraint solving
  enable_gpu: true
  gpu_device_id: 0

  # Reasoner configuration
  reasoner:
    default_engine: "elk"  # elk|hermit|pellet
    timeout_ms: 30000
    inference_level: "owl-dl"  # rdfs|owl-dl|owl-full
    cache_inferences: true

  # Constraint group settings
  constraint_groups:
    disjoint:
      enabled: true
      separation_strength: 0.8
      max_separation_distance: 50.0

    hierarchy:
      enabled: true
      alignment_strength: 0.6
      vertical_spacing: 30.0
      horizontal_clustering: true

    same_as:
      enabled: true
      colocation_strength: 0.9
      min_colocation_distance: 2.0

    cardinality:
      enabled: true
      boundary_strength: 0.7
      visual_indicators: true

  # Validation settings
  validation:
    auto_validate_on_load: true
    check_consistency: true
    report_warnings: true
    max_violation_display: 50

  # Namespace management
  namespaces:
    auto_discover: true
    display_prefixes: true
    default_namespaces:
      owl: "http://www.w3.org/2002/07/owl#"
      rdf: "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
      rdfs: "http://www.w3.org/2000/01/rdf-schema#"
      xsd: "http://www.w3.org/2001/XMLSchema#"

# Add this graph configuration to visualisation.graphs section
visualisation:
  graphs:
    ontology:
      nodes:
        baseColor: '#4A90E2'
        metalness: 0.2
        opacity: 0.9
        roughness: 0.4
        nodeSize: 2.0
        quality: high
        enableInstancing: true
        enableHologram: false
        enableMetadataShape: true
        enableMetadataVisualisation: true

        # Node type-specific colors
        classColor: '#4A90E2'       # Blue for OWL Classes
        propertyColor: '#E8B339'    # Gold for Properties
        individualColor: '#7ED321'  # Green for Individuals
        inferredOpacity: 0.6        # Dimmer for inferred nodes

      edges:
        arrowSize: 0.03
        baseWidth: 0.5
        enableArrows: true
        opacity: 0.6
        widthRange: [0.2, 2.0]
        quality: high

        # Edge type-specific colors
        subClassOfColor: '#4A90E2'     # Hierarchy edges
        propertyEdgeColor: '#E8B339'   # Property connections
        instanceOfColor: '#7ED321'     # Instance relationships
        inferredEdgeStyle: 'dashed'

      labels:
        desktopFontSize: 1.2
        enableLabels: true
        textColor: '#FFFFFF'
        textOutlineColor: '#000000'
        textOutlineWidth: 0.01
        textResolution: 64
        textPadding: 0.4
        billboardMode: camera
        showMetadata: true
        maxLabelWidth: 8.0

        # URI display options
        showFullURI: false
        showPrefix: true
        showLocalName: true

      physics:
        enabled: true
        iterations: 100
        dt: 0.016
        damping: 0.7

        # Ontology-specific force parameters
        springK: 8.0                    # Stronger springs for hierarchy
        repelK: 20.0                    # Stronger repulsion for separation
        massScale: 1.2                  # Heavier nodes for stability

        # Constraint forces
        constraintForceWeight: 1.5      # High priority for ontology constraints
        hierarchyAlignmentForce: 0.6
        disjointSeparationForce: 0.8
        sameAsColocationForce: 0.9

        # GPU kernel parameters
        computeMode: 1                  # GPU-accelerated
        warmupIterations: 150
        coolingRate: 0.001

        autoBalance: true
        autoBalanceIntervalMs: 500

        autoPause:
          enabled: true
          equilibriumVelocityThreshold: 0.05
          equilibriumCheckFrames: 60
          equilibriumEnergyThreshold: 0.005
